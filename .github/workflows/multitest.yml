name: multi-test
on:
  push:
  workflow_dispatch:
defaults:
  run:
    shell: bash
jobs:
  toolchain-test:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: run
        run: |
          GOROOT="$(env | grep "GOROOT_1_" | sort | tail -1 | cut -d= -f2)"
          export GOROOT
          "$GOROOT"/bin/go version
          GOTOOLCHAIN=go1.21rc4 "$GOROOT"/bin/go version
  action-test:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - uses: WillAbides/setup-go-faster@main
        with:
          go-version: 1.21rc4
      - run: go version


#      - run: ls -haltr "$RUNNER_TOOL_CACHE/go"
#      - run: which -a go
#      - run: /usr/bin/go version
#      - run: ls -al /usr/bin/go
#      - run: go version
#      - uses: actions/checkout@v3
#      - uses: WillAbides/setup-go-faster@v1.12.0
#        with:
#          go-version-file: go.mod
#      - run: go version
#      - run:
#          go version
